<?xml version="1.0" encoding="UTF-8"?>
<component type="desktop-application">
  <id>@APP_ID@</id>
  <metadata_license>CC0-1.0</metadata_license>
  <project_license>GPL-3.0-or-later</project_license>
  <name>@APP_NAME@</name>
  <summary>Inspect and debug webhooks</summary>
  <branding>
    <color type="primary" scheme_preference="light">#1F7BDC</color>
    <color type="primary" scheme_preference="dark">#1F7BDC</color>
  </branding>
  <description>
    <p>
      Sonar is a native tool for debugging webhooks. It captures incoming requests and
      lets you inspect headers, body content, and query parameters in real-time.
    </p>
    <p>Core Features:</p>
    <ul>
      <li>Instant public URLs via ngrok integration for webhook testing</li>
      <li>Real-time capture of incoming webhook requests as they arrive</li>
      <li>Detailed inspection of headers, body content, query parameters, and metadata</li>
      <li>Quick copy functionality including JSON, cURL, and HTTP formats</li>
      <li>Clean Libadwaita interface that integrates perfectly with GNOME</li>
      <li>Fast and lightweight native application with minimal resource usage</li>
    </ul>
    <p>Advanced Features:</p>
    <ul>
      <li>Request bookmarking and starring for quick access</li>
      <li>Request replay to resend webhooks to custom URLs</li>
      <li>Side-by-side request comparison to spot differences</li>
      <li>Request templates for saving and reusing webhook patterns</li>
      <li>Automatic webhook forwarding to multiple URLs</li>
      <li>Advanced filtering by method, content-type, time range, and search</li>
      <li>Persistent history with JSON storage</li>
    </ul>
  </description>
  <screenshots>
    <screenshot type="default">
      <image>https://raw.githubusercontent.com/tobagin/sonar/main/data/screenshots/main-window-tunnel-started.png</image>
      <caption>Tunnel running and ready to receive requests</caption>
    </screenshot>
    <screenshot>
      <image>https://raw.githubusercontent.com/tobagin/sonar/main/data/screenshots/main-window-start-tunnel.png</image>
      <caption>Starting a tunnel to receive webhooks</caption>
    </screenshot>
    <screenshot>
      <image>https://raw.githubusercontent.com/tobagin/sonar/main/data/screenshots/received-requests.png</image>
      <caption>Viewing received webhook requests</caption>
    </screenshot>
    <screenshot>
      <image>https://raw.githubusercontent.com/tobagin/sonar/main/data/screenshots/history.png</image>
      <caption>Request history and details</caption>
    </screenshot>
    <screenshot>
      <image>https://raw.githubusercontent.com/tobagin/sonar/main/data/screenshots/request-statistics.png</image>
      <caption>Request statistics and analytics</caption>
    </screenshot>
    <screenshot>
      <image>https://raw.githubusercontent.com/tobagin/sonar/main/data/screenshots/preferences.png</image>
      <caption>Application preferences</caption>
    </screenshot>
    <screenshot>
      <image>https://raw.githubusercontent.com/tobagin/sonar/main/data/screenshots/keyboard-shortcuts.png</image>
      <caption>Keyboard shortcuts</caption>
    </screenshot>
    <screenshot>
      <image>https://raw.githubusercontent.com/tobagin/sonar/main/data/screenshots/clear-data.png</image>
      <caption>Clear Data dialog</caption>
    </screenshot>
    <screenshot>
      <image>https://raw.githubusercontent.com/tobagin/sonar/main/data/screenshots/about.png</image>
      <caption>About dialog</caption>
    </screenshot>
  </screenshots>

  <url type="homepage">https://github.com/tobagin/sonar</url>
  <url type="bugtracker">https://github.com/tobagin/sonar/issues</url>
  <url type="help">https://github.com/tobagin/sonar/discussions</url>
  <url type="donation">https://github.com/sponsors/tobagin</url>
  <url type="contact">https://github.com/tobagin</url>
  <url type="contribute">https://github.com/tobagin/sonar</url>

  <developer id="io.github.tobagin">
    <name>Thiago Fernandes</name>
  </developer>

  <content_rating type="oars-1.1" />

  <launchable type="desktop-id">@APP_ID@.desktop</launchable>

  <releases>
    <release version="2.3.2" date="2026-01-12">
      <description>
        <p>üìù Documentation &amp; Metadata Updates</p>
        <p>Improvements:</p>
        <ul>
          <li>Added branding colors to AppStream metadata</li>
          <li>Simplified application summary and description</li>
          <li>Updated README with Flathub/Ko-fi badges and simplified instructions</li>
        </ul>
      </description>
    </release>
    <release version="2.3.1" date="2026-01-07">
      <description>
        <p>üêõ Bug Fixes &amp; UI Improvements</p>
        <p>Fixes:</p>
        <ul>
          <li>Fixed webhooks sent to the root path (/) not being captured</li>
        </ul>
        <p>Improvements:</p>
        <ul>
          <li>Ideally positioned body content in request details</li>
          <li>Improved contrast for action buttons</li>
          <li>Added Brazilian Portuguese (pt_BR) translation</li>
          <li>Updated application screenshots</li>
        </ul>
      </description>
    </release>
    <release version="2.3.0" date="2026-01-07">
      <description>
        <p>‚ú® New Features &amp; Polish</p>
        <p>Mock Responses:</p>
        <ul>
          <li>Intercept incoming webhooks and return custom responses</li>
          <li>Configure status code, headers, and body content</li>
          <li>Full code editor with syntax highlighting and "Solarized Light" theme</li>
        </ul>
        <p>Import:</p>
        <ul>
          <li>Import requests from JSON and HAR files</li>
        </ul>
        <p>Improvements:</p>
        <ul>
          <li>‚ú® Fresh new application icons (Thanks to @oiimrosabel)</li>
          <li>Smart authentication token handling for ngrok</li>
          <li>Refined UI with extensive use of rounded cards and better padding</li>
        </ul>
      </description>
    </release>
    <release version="2.2.2" date="2025-12-12">
      <description>
        <p>üêõ Bug Fixes and UX Improvements</p>
        <p>Fixes:</p>
        <ul>
          <li>Fixed 500 Internal Server Error when accessing the root URL</li>
          <li>Improved landing page layout with centered logo and better spacing</li>
          <li>Refined webhook inspector terminology in documentation</li>
        </ul>
      </description>
    </release>
    <release version="2.2.1" date="2025-10-20">
      <description>
        <p>üêõ Bug Fix Release</p>
        <p>Fixes:</p>
        <ul>
          <li>Fixed screenshot URLs in metainfo after directory reorganization</li>
        </ul>
      </description>
    </release>
    <release version="2.2.0" date="2025-10-20">
      <description>
        <p>üîí Security &amp; Performance Enhancement Release</p>
        <p>This release focuses on security hardening, performance optimizations, and enhanced export capabilities.</p>
        <p>üîê Security Hardening:</p>
        <ul>
          <li>Secure credential storage using GNOME Keyring (libsecret)</li>
          <li>DoS protection with configurable rate limiting (100 req/s, burst 200)</li>
          <li>SSRF prevention with URL validation and private IP filtering</li>
          <li>Comprehensive input validation for all webhook data</li>
          <li>Webhook signature validation for GitHub, Stripe, and custom HMAC</li>
          <li>Timing-safe signature comparison to prevent timing attacks</li>
        </ul>
        <p>‚ö° Performance Optimizations:</p>
        <ul>
          <li>O(1) request indexing for instant lookups</li>
          <li>Batched UI updates (100ms intervals) for smooth 60fps rendering</li>
          <li>JSON parsing cache to avoid redundant parsing</li>
          <li>Async disk I/O to prevent UI freezing</li>
          <li>Improved memory management with LRU eviction strategies</li>
        </ul>
        <p>üì§ Enhanced Export Formats:</p>
        <ul>
          <li>HAR (HTTP Archive) format export for compatibility</li>
          <li>CSV export with customizable fields</li>
          <li>Enhanced cURL export with proper authentication headers</li>
          <li>Selective export (export specific requests)</li>
        </ul>
        <p>üõ†Ô∏è Reliability &amp; Testing:</p>
        <ul>
          <li>Exponential backoff retry for tunnel connection (3 attempts)</li>
          <li>Comprehensive test suite with 4 automated test scripts</li>
          <li>Security testing suite for validation and rate limiting</li>
          <li>Performance benchmarking tools</li>
          <li>Complete testing documentation</li>
        </ul>
        <p>üêõ Bug Fixes:</p>
        <ul>
          <li>Fixed subprocess assertion error when checking ngrok process</li>
          <li>Fixed path validation false positives</li>
          <li>Fixed GLib-GIO-CRITICAL warnings</li>
          <li>Webhook server now starts automatically</li>
        </ul>
      </description>
    </release>
    <release version="2.1.0" date="2025-10-09">
      <description>
        <p>üöÄ Major Feature Release - Advanced Webhook Tools</p>
        <p>This release introduces powerful new features for advanced webhook inspection, testing, and automation workflows.</p>
        <p>üéØ Advanced Filtering:</p>
        <ul>
          <li>Filter webhooks by HTTP method (GET, POST, PUT, DELETE, etc.)</li>
          <li>Filter by content-type (JSON, XML, form-data, etc.)</li>
          <li>Filter by time range (5min, 15min, 30min, 1hr, 24hr)</li>
          <li>Full-text search in request path and body</li>
          <li>Show only starred/bookmarked requests</li>
        </ul>
        <p>‚≠ê Request Bookmarking:</p>
        <ul>
          <li>Star important requests for quick reference</li>
          <li>Toggle starred status with one click</li>
          <li>Filter view to show only starred requests</li>
          <li>Persistent bookmarks saved with JSON serialization</li>
        </ul>
        <p>üîÑ Request Replay:</p>
        <ul>
          <li>Resend any captured webhook to custom URLs</li>
          <li>Preserves original HTTP method, headers, and body</li>
          <li>Async request sending for non-blocking operation</li>
          <li>Toast notifications with success/failure status codes</li>
        </ul>
        <p>‚öñÔ∏è Request Comparison:</p>
        <ul>
          <li>Compare two webhooks side-by-side</li>
          <li>Highlights differences in method, path, and content-type</li>
          <li>Full headers and body comparison views</li>
          <li>Perfect for spotting changes between webhook versions</li>
        </ul>
        <p>üìù Request Templates:</p>
        <ul>
          <li>Save any request as a reusable template</li>
          <li>Add name and description to templates</li>
          <li>Persistent storage in JSON format</li>
          <li>Quick access to common webhook patterns</li>
        </ul>
        <p>üîÄ Webhook Forwarding:</p>
        <ul>
          <li>Automatically forward all incoming webhooks to multiple URLs</li>
          <li>Configure forwarding in Preferences with multiple target URLs</li>
          <li>Option to preserve HTTP method or force POST</li>
          <li>Option to include original headers or send clean</li>
          <li>Async forwarding for zero performance impact</li>
          <li>Perfect for local development and staging environments</li>
        </ul>
        <p>üì§ Enhanced Export:</p>
        <ul>
          <li>Export as cURL command with proper escaping</li>
          <li>Export as raw HTTP request format</li>
          <li>One-click copy to clipboard</li>
          <li>Perfect for sharing and debugging</li>
        </ul>
      </description>
    </release>
    <release version="2.0.3" date="2025-10-08">
      <description>
        <p>‚ú® User Experience Enhancements</p>
        <p>Keyboard Shortcuts:</p>
        <ul>
          <li>Redesigned keyboard shortcuts dialog with cleaner, more organized layout</li>
          <li>Improved shortcuts presentation using native Libadwaita components</li>
          <li>Better categorization of shortcuts by function</li>
          <li>Enhanced accessibility and discoverability of keyboard commands</li>
        </ul>
        <p>Menu Improvements:</p>
        <ul>
          <li>Reorganized main menu for better user experience</li>
          <li>Grouped related actions together logically</li>
          <li>Moved frequently used actions to the top</li>
          <li>Improved menu structure following GNOME HIG guidelines</li>
        </ul>
        <p>Code Quality:</p>
        <ul>
          <li>Simplified shortcuts dialog implementation</li>
          <li>Reduced code complexity and improved maintainability</li>
          <li>Better resource management and performance</li>
        </ul>
      </description>
    </release>
    <release version="2.0.2" date="2025-09-18">
      <description>
        <p>üêõ Bug Fixes and Improvements</p>
        <p>Metainfo Fixes:</p>
        <ul>
          <li>Fixed metainfo validation error causing build failures</li>
          <li>Removed template release entry that caused ordering issues</li>
        </ul>
        <p>Improvements:</p>
        <ul>
          <li>Better appstream compliance</li>
          <li>Enhanced build process reliability</li>
        </ul>
      </description>
    </release>
    <release version="2.0.1" date="2025-09-18">
      <description>
        <p>üêõ Bug Fixes and Improvements</p>
        <p>Runtime Updates:</p>
        <ul>
          <li>Updated runtime version to 49 for improved compatibility</li>
          <li>Enhanced metainfo with additional configuration items</li>
        </ul>
        <p>Improvements:</p>
        <ul>
          <li>Better system integration</li>
          <li>Enhanced stability</li>
          <li>Improved runtime performance</li>
        </ul>
      </description>
    </release>
    <release version="2.0.0" date="2025-08-25">
      <description>
        <p>üöÄ Major Release: Complete Architecture Rewrite</p>
        <p>BREAKING CHANGE: Complete migration from Python to Vala</p>
        <p>This major release represents a complete rewrite of Sonar, transitioning from a Python-based application to a native Vala application with significant performance improvements and new features.</p>
        <p>üîß Core Changes:</p>
        <ul>
          <li>Complete rewrite in Vala for dramatically improved performance and startup times</li>
          <li>Eliminated Python runtime dependency - now a truly native GTK4 application</li>
          <li>Reduced memory footprint and system resource usage</li>
          <li>Enhanced stability and reliability through compile-time type checking</li>
        </ul>
        <p>üé® New User Interface Features:</p>
        <ul>
          <li>Added comprehensive preferences dialog with advanced configuration options</li>
          <li>Implemented keyboard shortcuts dialog with customizable key bindings</li>
          <li>Added detailed request statistics and analytics dashboard</li>
          <li>Enhanced main window with improved layout and responsiveness</li>
          <li>Better integration with GNOME desktop environment</li>
        </ul>
        <p>‚öôÔ∏è Technical Improvements:</p>
        <ul>
          <li>Migrated to Meson build system for better performance and maintainability</li>
          <li>Added proper GSettings integration for persistent configuration</li>
          <li>Improved error handling and user feedback mechanisms</li>
          <li>Enhanced request processing and display performance</li>
          <li>Added automated Flatpak packaging with GitHub Actions</li>
        </ul>
        <p>üìä New Analytics Features:</p>
        <ul>
          <li>Request statistics with detailed breakdowns by method, status code, and timing</li>
          <li>Real-time performance metrics and monitoring</li>
          <li>Enhanced request history with filtering and search capabilities</li>
          <li>Improved data visualization and reporting</li>
        </ul>
        <p>Note: Due to the architectural changes, existing configuration and data from v1.x will need to be reconfigured.</p>
      </description>
    </release>
  </releases>
  <requires>
    <display_length compare="ge">360</display_length>
  </requires>
  <recommends>
    <control>keyboard</control>
    <control>pointing</control>
    <control>touch</control>
  </recommends>
</component>